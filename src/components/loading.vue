<template>
	<div class="introloading">
		<svg fill="none" ref="logo" width="50" height="39" class="line">
			<path
				d="M1.42213 11.2037L12.3295 10.0107C12.6774 9.9761 13.0601 9.99339 13.4776 10.0625C13.8951 10.0971 14.2604 10.149 14.5735 10.2182C14.8867 10.2873 15.1128 10.3565 15.252 10.4256C15.426 10.4948 15.4434 10.5294 15.3042 10.5294C15.165 10.5294 15.2868 10.5639 15.6695 10.6331C16.0522 10.6677 16.5393 10.685 17.1308 10.685C17.7222 10.685 18.3311 10.6504 18.9574 10.5812C19.5836 10.5121 20.0707 10.3565 20.4186 10.1144L23.8109 11.8261L23.3412 12.8635C22.4714 13.5205 21.7755 14.1083 21.2536 14.627C20.7665 15.1457 20.3664 15.6125 20.0533 16.0275C19.7402 16.4424 19.4792 16.8401 19.2705 17.2204C19.0617 17.5662 18.8008 17.912 18.4877 18.2578C18.4181 18.3616 18.4355 18.4999 18.5398 18.6728C18.6442 18.8111 18.766 18.9667 18.9052 19.1396C19.0791 19.2779 19.2531 19.4162 19.427 19.5545C19.6358 19.6929 19.7924 19.7793 19.8967 19.8139C20.349 20.0214 20.7491 20.1597 21.0971 20.2288C21.4798 20.2634 21.8451 20.3153 22.193 20.3844C22.5409 20.419 22.8889 20.5055 23.2368 20.6438C23.6195 20.7821 24.0196 21.0587 24.4371 21.4737C24.5763 22.5111 24.7328 23.5311 24.9068 24.5339C25.0808 25.5367 25.0112 26.4185 24.6981 27.1793C24.4893 27.5596 24.0892 27.9573 23.4977 28.3722C22.9063 28.7872 22.2452 29.2021 21.5146 29.6171C20.8187 29.9975 20.1229 30.3432 19.427 30.6545C18.766 30.9657 18.2615 31.1904 17.9136 31.3288C17.4961 31.5017 17.096 31.7437 16.7133 32.0549C16.3653 32.3316 15.9652 32.6255 15.5129 32.9367C15.0954 33.2133 14.6257 33.4554 14.1039 33.6629C13.582 33.8703 12.9557 33.9741 12.2251 33.9741C11.6684 34.0086 10.99 34.0086 10.1897 33.9741C9.42431 33.9049 8.65889 33.8012 7.89346 33.6629C7.12803 33.49 6.4148 33.2652 5.75374 32.9886C5.09269 32.7119 4.58821 32.3488 4.24029 31.8993L3.7706 30.1358C3.7706 29.9283 3.78799 29.79 3.82278 29.7208C3.85757 29.6171 3.90976 29.5306 3.97935 29.4615C4.04893 29.3923 4.13591 29.2886 4.24029 29.1503C4.34467 29.0119 4.46644 28.7872 4.60561 28.476L8.51972 20.4882C9.00681 20.0386 9.54609 19.5027 10.1376 18.8802C10.7638 18.2578 11.1987 17.791 11.4423 17.4798C11.7554 17.1686 12.0337 16.9438 12.2773 16.8055C12.5208 16.6326 12.747 16.477 12.9557 16.3387C13.1645 16.2004 13.3558 16.0447 13.5298 15.8719C13.7385 15.699 13.9473 15.4569 14.156 15.1457L13.4254 14.2121C12.8339 14.2121 12.2599 14.2639 11.7032 14.3677C11.2161 14.4368 10.7116 14.5578 10.1897 14.7307C9.70265 14.8691 9.31994 15.0765 9.0416 15.3532C8.51972 15.3186 7.94565 15.3877 7.31939 15.5606C6.69313 15.699 6.06688 15.8719 5.44062 16.0793C4.84915 16.2868 4.30987 16.4943 3.82278 16.7018C3.33569 16.8747 2.98777 16.9784 2.77902 17.013C1.87442 17.1859 1.16119 17.2204 0.639305 17.1167C0.152216 17.013 -0.0565373 16.719 0.0130471 16.2349L0.482741 12.241L1.42213 11.2037ZM15.9304 22.5111C15.5825 22.7877 15.1998 23.1681 14.7823 23.6522C14.3648 24.1017 13.9473 24.5858 13.5298 25.1045C13.1471 25.6232 12.8165 26.1073 12.5382 26.5568C12.2599 27.0064 12.1033 27.3349 12.0685 27.5423C11.8946 28.0264 11.9467 28.4241 12.2251 28.7353C12.573 29.012 13.0949 29.1676 13.7907 29.2021C14.5214 29.2367 15.1302 29.2367 15.6173 29.2021C16.3479 28.718 17.0612 28.1648 17.757 27.5423C18.4529 26.8853 18.8356 26.4012 18.9052 26.09C19.0095 25.5367 19.0443 25.1218 19.0095 24.8452C18.9747 24.5339 18.8182 24.1882 18.5398 23.8078C18.3311 23.4966 18.1397 23.1854 17.9658 22.8741C17.7918 22.5629 17.5657 22.4073 17.2873 22.4073L15.9304 22.5111ZM14.8867 3.11213L16.7133 5.18688L16.7655 7.88406C16.5915 7.88406 16.4001 7.90135 16.1914 7.93593C15.9826 7.93593 15.7913 7.95322 15.6173 7.98779C15.2694 8.05695 14.8693 8.16069 14.417 8.29901C13.9647 8.40275 13.5124 8.57564 13.0601 8.8177L11.651 7.26163L6.90189 3.47521L7.11064 1.76354L12.6948 0L13.4254 0.311212L14.8867 3.11213Z"
				fill="#282A36"
				stroke="white"
				stroke-width="0.5"
			/>
			<path
				d="M35.2507 22.7469C35.0875 22.909 34.9825 23.0827 34.9359 23.268C34.8892 23.4533 34.8426 23.6385 34.7959 23.8238C34.7493 24.0323 34.656 24.2407 34.516 24.4491C34.3994 24.6344 34.1895 24.8197 33.8863 25.005L32.6268 25.7345L31.8222 27.1241L31.4023 27.9578L27.8688 29L25 28.3052L25.1749 27.4367L31.2274 20.871L34.0262 19.1687L34.4111 18.6824L31.7522 18.1613L28.4985 18.4739L25.6997 18.5782L25.4198 16.5633L26.5044 16.0769L28.4286 15.6253L30.5277 15.3127C30.551 15.3127 30.8426 15.3474 31.4023 15.4169C31.9621 15.4632 32.5685 15.5211 33.2216 15.5906C33.898 15.66 34.516 15.7179 35.0758 15.7643C35.6356 15.8106 35.9271 15.8337 35.9504 15.8337L37.3499 15.2779C37.7464 15.2316 38.1895 15.1969 38.6793 15.1737C39.1691 15.1274 39.6239 15.0926 40.0437 15.0695C40.2536 15.0695 40.4402 15.0695 40.6035 15.0695C40.7901 15.0463 40.9534 15.0347 41.0933 15.0347C41.2799 15.0347 41.4198 15.0232 41.5131 15L42.1429 16.5633C42.0262 16.6328 41.9096 16.7022 41.793 16.7717C41.6997 16.8412 41.5948 16.9107 41.4781 16.9801C41.2915 17.0959 41.07 17.2349 40.8134 17.397C40.5569 17.536 40.3003 17.6749 40.0437 17.8139C39.9271 17.8834 39.8222 17.9529 39.7289 18.0223C39.6356 18.0918 39.5306 18.1497 39.414 18.196L38.3644 19.5856C38.2245 19.794 38.0496 20.0025 37.8396 20.2109C37.6531 20.3962 37.3965 20.5583 37.07 20.6973L35.9155 21.3573L36.0904 21.4615C37.5831 21.7395 39.0408 21.9942 40.4636 22.2258C41.8863 22.4342 43.0991 22.5848 44.102 22.6774L49 24.6228L47.4956 27.5409C46.7959 27.3788 46.1895 27.3325 45.6764 27.402C45.1866 27.4483 44.7434 27.5294 44.3469 27.6452C43.9271 27.761 43.5423 27.8768 43.1924 27.9926C42.8659 28.0852 42.5277 28.0736 42.1778 27.9578L37.5598 24.4839C37.2566 24.3449 36.9534 24.1133 36.6501 23.7891C36.3469 23.4648 36.137 23.1175 36.0204 22.7469H35.2507Z"
				fill="#282A36"
				stroke="white"
				stroke-width="0.5"
			/>
		</svg>
		<svg fill="none" width="50" height="39" class="bg">
			<path
				d="M1.42213 11.2037L12.3295 10.0107C12.6774 9.9761 13.0601 9.99339 13.4776 10.0625C13.8951 10.0971 14.2604 10.149 14.5735 10.2182C14.8867 10.2873 15.1128 10.3565 15.252 10.4256C15.426 10.4948 15.4434 10.5294 15.3042 10.5294C15.165 10.5294 15.2868 10.5639 15.6695 10.6331C16.0522 10.6677 16.5393 10.685 17.1308 10.685C17.7222 10.685 18.3311 10.6504 18.9574 10.5812C19.5836 10.5121 20.0707 10.3565 20.4186 10.1144L23.8109 11.8261L23.3412 12.8635C22.4714 13.5205 21.7755 14.1083 21.2536 14.627C20.7665 15.1457 20.3664 15.6125 20.0533 16.0275C19.7402 16.4424 19.4792 16.8401 19.2705 17.2204C19.0617 17.5662 18.8008 17.912 18.4877 18.2578C18.4181 18.3616 18.4355 18.4999 18.5398 18.6728C18.6442 18.8111 18.766 18.9667 18.9052 19.1396C19.0791 19.2779 19.2531 19.4162 19.427 19.5545C19.6358 19.6929 19.7924 19.7793 19.8967 19.8139C20.349 20.0214 20.7491 20.1597 21.0971 20.2288C21.4798 20.2634 21.8451 20.3153 22.193 20.3844C22.5409 20.419 22.8889 20.5055 23.2368 20.6438C23.6195 20.7821 24.0196 21.0587 24.4371 21.4737C24.5763 22.5111 24.7328 23.5311 24.9068 24.5339C25.0808 25.5367 25.0112 26.4185 24.6981 27.1793C24.4893 27.5596 24.0892 27.9573 23.4977 28.3722C22.9063 28.7872 22.2452 29.2021 21.5146 29.6171C20.8187 29.9975 20.1229 30.3432 19.427 30.6545C18.766 30.9657 18.2615 31.1904 17.9136 31.3288C17.4961 31.5017 17.096 31.7437 16.7133 32.0549C16.3653 32.3316 15.9652 32.6255 15.5129 32.9367C15.0954 33.2133 14.6257 33.4554 14.1039 33.6629C13.582 33.8703 12.9557 33.9741 12.2251 33.9741C11.6684 34.0086 10.99 34.0086 10.1897 33.9741C9.42431 33.9049 8.65889 33.8012 7.89346 33.6629C7.12803 33.49 6.4148 33.2652 5.75374 32.9886C5.09269 32.7119 4.58821 32.3488 4.24029 31.8993L3.7706 30.1358C3.7706 29.9283 3.78799 29.79 3.82278 29.7208C3.85757 29.6171 3.90976 29.5306 3.97935 29.4615C4.04893 29.3923 4.13591 29.2886 4.24029 29.1503C4.34467 29.0119 4.46644 28.7872 4.60561 28.476L8.51972 20.4882C9.00681 20.0386 9.54609 19.5027 10.1376 18.8802C10.7638 18.2578 11.1987 17.791 11.4423 17.4798C11.7554 17.1686 12.0337 16.9438 12.2773 16.8055C12.5208 16.6326 12.747 16.477 12.9557 16.3387C13.1645 16.2004 13.3558 16.0447 13.5298 15.8719C13.7385 15.699 13.9473 15.4569 14.156 15.1457L13.4254 14.2121C12.8339 14.2121 12.2599 14.2639 11.7032 14.3677C11.2161 14.4368 10.7116 14.5578 10.1897 14.7307C9.70265 14.8691 9.31994 15.0765 9.0416 15.3532C8.51972 15.3186 7.94565 15.3877 7.31939 15.5606C6.69313 15.699 6.06688 15.8719 5.44062 16.0793C4.84915 16.2868 4.30987 16.4943 3.82278 16.7018C3.33569 16.8747 2.98777 16.9784 2.77902 17.013C1.87442 17.1859 1.16119 17.2204 0.639305 17.1167C0.152216 17.013 -0.0565373 16.719 0.0130471 16.2349L0.482741 12.241L1.42213 11.2037ZM15.9304 22.5111C15.5825 22.7877 15.1998 23.1681 14.7823 23.6522C14.3648 24.1017 13.9473 24.5858 13.5298 25.1045C13.1471 25.6232 12.8165 26.1073 12.5382 26.5568C12.2599 27.0064 12.1033 27.3349 12.0685 27.5423C11.8946 28.0264 11.9467 28.4241 12.2251 28.7353C12.573 29.012 13.0949 29.1676 13.7907 29.2021C14.5214 29.2367 15.1302 29.2367 15.6173 29.2021C16.3479 28.718 17.0612 28.1648 17.757 27.5423C18.4529 26.8853 18.8356 26.4012 18.9052 26.09C19.0095 25.5367 19.0443 25.1218 19.0095 24.8452C18.9747 24.5339 18.8182 24.1882 18.5398 23.8078C18.3311 23.4966 18.1397 23.1854 17.9658 22.8741C17.7918 22.5629 17.5657 22.4073 17.2873 22.4073L15.9304 22.5111ZM14.8867 3.11213L16.7133 5.18688L16.7655 7.88406C16.5915 7.88406 16.4001 7.90135 16.1914 7.93593C15.9826 7.93593 15.7913 7.95322 15.6173 7.98779C15.2694 8.05695 14.8693 8.16069 14.417 8.29901C13.9647 8.40275 13.5124 8.57564 13.0601 8.8177L11.651 7.26163L6.90189 3.47521L7.11064 1.76354L12.6948 0L13.4254 0.311212L14.8867 3.11213Z"
				fill="#fff"
				stroke-width="0"
			/>
			<path
				d="M35.2507 22.7469C35.0875 22.909 34.9825 23.0827 34.9359 23.268C34.8892 23.4533 34.8426 23.6385 34.7959 23.8238C34.7493 24.0323 34.656 24.2407 34.516 24.4491C34.3994 24.6344 34.1895 24.8197 33.8863 25.005L32.6268 25.7345L31.8222 27.1241L31.4023 27.9578L27.8688 29L25 28.3052L25.1749 27.4367L31.2274 20.871L34.0262 19.1687L34.4111 18.6824L31.7522 18.1613L28.4985 18.4739L25.6997 18.5782L25.4198 16.5633L26.5044 16.0769L28.4286 15.6253L30.5277 15.3127C30.551 15.3127 30.8426 15.3474 31.4023 15.4169C31.9621 15.4632 32.5685 15.5211 33.2216 15.5906C33.898 15.66 34.516 15.7179 35.0758 15.7643C35.6356 15.8106 35.9271 15.8337 35.9504 15.8337L37.3499 15.2779C37.7464 15.2316 38.1895 15.1969 38.6793 15.1737C39.1691 15.1274 39.6239 15.0926 40.0437 15.0695C40.2536 15.0695 40.4402 15.0695 40.6035 15.0695C40.7901 15.0463 40.9534 15.0347 41.0933 15.0347C41.2799 15.0347 41.4198 15.0232 41.5131 15L42.1429 16.5633C42.0262 16.6328 41.9096 16.7022 41.793 16.7717C41.6997 16.8412 41.5948 16.9107 41.4781 16.9801C41.2915 17.0959 41.07 17.2349 40.8134 17.397C40.5569 17.536 40.3003 17.6749 40.0437 17.8139C39.9271 17.8834 39.8222 17.9529 39.7289 18.0223C39.6356 18.0918 39.5306 18.1497 39.414 18.196L38.3644 19.5856C38.2245 19.794 38.0496 20.0025 37.8396 20.2109C37.6531 20.3962 37.3965 20.5583 37.07 20.6973L35.9155 21.3573L36.0904 21.4615C37.5831 21.7395 39.0408 21.9942 40.4636 22.2258C41.8863 22.4342 43.0991 22.5848 44.102 22.6774L49 24.6228L47.4956 27.5409C46.7959 27.3788 46.1895 27.3325 45.6764 27.402C45.1866 27.4483 44.7434 27.5294 44.3469 27.6452C43.9271 27.761 43.5423 27.8768 43.1924 27.9926C42.8659 28.0852 42.5277 28.0736 42.1778 27.9578L37.5598 24.4839C37.2566 24.3449 36.9534 24.1133 36.6501 23.7891C36.3469 23.4648 36.137 23.1175 36.0204 22.7469H35.2507Z"
				fill="#fff"
				stroke-width="0"
			/>
		</svg>
	</div>
</template>

<script>
import anime from 'animejs';
export default {
	name: 'ViewLoading',

	data() {
		return {};
	},

	mounted() {
		var logoAnim = anime({
			targets: this.$refs.logo.children,
			strokeDashoffset: [anime.setDashoffset, 0],
			easing: 'easeInOutSine',
			duration: 2000,
			delay(el, i) {
				return i * 250;
			},
		});
		logoAnim.finished.then(this.logoAnimEnd);
	},
	methods: {
		logoAnimEnd() {
			document.querySelector('.introloading').classList.add('bg');
			setTimeout(() => {
				document.querySelector('.introloading').classList.add('none');
				document.querySelector('.header').classList.add('open');
			}, 1500);
			setTimeout(() => {
				this.$emit('loadingEnd');
				this.$store.commit('updateState', { introloading: false });
			}, 2500);
		},
	},
};
</script>
